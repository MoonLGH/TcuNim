{"mappings":"AAAA,MAAMA,MAAQ,IAAIC,gBAAgBC,OAAOC,SAASC,QAElD,IAAIC,SAAWL,MAAMM,IAAI,YACrBC,EAAIP,MAAMM,IAAI,KAElBE,QAAQC,IAAI,eAAeJ,YAC3BG,QAAQC,IAAI,YAAYF,KACxB,IAAIG,KAAO,EAEXC,eAAeC,OACX,IAAIC,EAAMC,aAAaC,QAAQ,OAC/B,IACIC,SAASC,cAAc,SAASC,MAAQb,SACxC,IAAIc,QAAaC,MAAMP,EAAM,2BAA6BR,UAC1Dc,QAAaA,EAAKE,OAClBL,SAASC,cAAc,YAAYK,WAAa,2NAE4BH,EAAKI,oGACDC,eAAeL,EAAKM,0CAIpG,IAAIrB,QAAegB,MAAMP,EAAM,uBAAyBR,SAAW,MAAQE,GAE3EmB,eADmBtB,EAAOiB,OAE9B,CAAE,MAAOM,GACLnB,QAAQC,IAAIkB,GACZX,SAASC,cAAc,YAAYK,WAAa,oYAMpD,CACJ,CAEAX,eAAee,SAASP,GACpB,IAAK,IAAIS,EAAI,EAAGA,EAAIT,EAAKU,OAAQD,IAAK,CACtC,IAAIE,EAAQX,EAAKS,GACjBpB,QAAQC,IAAIqB,GACZd,SAASC,cAAc,YAAYK,WAAY,gNAGVjB,eAAeyB,EAAMC,0EACID,EAAME,kIAG3B3B,eAAeyB,EAAMC,wGAC8BD,EAAMG,yKAGvBH,EAAMI,SAASC,MAAM,MAAMC,KAAK,kEAC9D/B,eAAeyB,EAAMC,mSAKlE,CACJ,CAEApB,eAAe0B,OACX,IAAIxB,EAAMC,aAAaC,QAAQ,OAC/BL,OACA,IAAIN,QAAegB,MAAMP,EAAM,uBAAyBR,SAAW,MAAQE,EAAI,SAASG,QAExFgB,eADmBtB,EAAOiB,OAE9B,CA1DAT","sources":["src/assets/js/search.js"],"sourcesContent":["const query = new URLSearchParams(window.location.search)\n\nlet provider = query.get(\"provider\")\nlet q = query.get(\"q\")\n\nconsole.log(`provider of ${provider}`)\nconsole.log(`query of ${q}`)\nlet page = 1\nmenu()\nasync function menu() {\n    let api = localStorage.getItem(\"API\");\n    try {\n        document.querySelector(\"#prov\").value = provider\n        let data = await fetch(api + \"api/extension?extension=\" + provider)\n        data = await data.json();\n        document.querySelector(\"#topCard\").innerHTML += `\n            <div class=\"w-full p-4 text-center bg-white border rounded-lg shadow-md sm:p-8 dark:bg-gray-800 dark:border-gray-700\">\n                <h5 class=\"mb-2 text-3xl font-bold text-gray-900 dark:text-white\">${data.name}</h5>\n                <p class=\"mb-5 text-base text-gray-500 sm:text-lg dark:text-gray-400\">${getCountryName(data.lang)}</p>\n            </div>\n        `\n\n        let search = await fetch(api + \"api/search?provider=\" + provider + \"&q=\" + q)\n        const sres = await search.json()\n        loadData(sres)\n    } catch (error) {\n        console.log(error)\n        document.querySelector(\"#topCard\").innerHTML += `\n            <div class=\"w-full p-4 text-center bg-white border rounded-lg shadow-md sm:p-8 dark:bg-gray-800 dark:border-gray-700\">\n                <h5 class=\"mb-2 text-3xl font-bold text-gray-900 dark:text-white\">Not Found</h5>\n                <p class=\"mb-5 text-base text-gray-500 sm:text-lg dark:text-gray-400\">Make sure you are connected to api</p>\n            </div>\n        `\n    }\n}\n\nasync function loadData(data){\n    for (let i = 0; i < data.length; i++) {\n    let anime = data[i]\n    console.log(anime)\n    document.querySelector(\"#data dl\").innerHTML +=`\n    <div class=\"flex flex-col items-center justify-center\">\n    <div class=\"w-full max-w-sm bg-white rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700\">\n       <a href=\"./detail.html?provider=${provider}&id=${anime.url}\">\n           <img class=\"p-8 roundex-lg rounded-t-lg m-auto\" src=\"${anime.thumbnail_url}\" alt=\"product image\" />\n       </a>\n       <div class=\"px-5 pb-5\">\n           <a href=\"./detail.html?provider=${provider}&id=${anime.url}\">\n               <h5 class=\"text-xl font-semibold tracking-tight text-gray-900 dark:text-white\">${anime.title}</h5>\n           </a>\n           <div class=\"flex items-center justify-between\">\n               <span class=\"text-sm font-bold text-gray-900 dark:text-white\">${anime.totalEps.split(\"\\n\").join(\"<br>\")}</span>\n               <a href=\"./detail.html?provider=${provider}&id=${anime.url}\" class=\"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\">Watch</a>\n           </div>\n       </div>\n   </div>\n </div>`\n    }\n}\n\nasync function more(){\n    let api = localStorage.getItem(\"API\");\n    page++\n    let search = await fetch(api + \"api/search?provider=\" + provider + \"&q=\" + q + `&page=${page}`)\n    const sres = await search.json()\n    loadData(sres)\n}"],"names":["query","URLSearchParams","window","location","search","provider","get","q","console","log","page","async","menu","api","localStorage","getItem","document","querySelector","value","data","fetch","json","innerHTML","name","getCountryName","lang","loadData","error","i","length","anime","url","thumbnail_url","title","totalEps","split","join","more"],"version":3,"file":"search.1c3bed67.js.map"}