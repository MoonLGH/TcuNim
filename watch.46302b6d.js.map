{"mappings":"AAAA,MAAMA,MAAQ,IAAIC,gBAAgBC,OAAOC,SAASC,QAClD,IAAIC,IAAMC,aAAaC,QAAQ,OAC3BC,SAAWR,MAAMS,IAAI,YACrBC,GAAKV,MAAMS,IAAI,MAEnBE,QAAQC,IAAI,eAAeJ,YAC3BG,QAAQC,IAAI,YAAYF,MAExB,IAAIG,UAAY,GAEhBC,eAAeC,WACX,IAAIC,QAAcC,MAAMZ,IAAI,sBAAsBG,eAAeE,MACjEM,QAAcA,EAAME,aACdC,SAASH,GACfI,UAAUP,UACd,CAGAC,eAAeO,OACX,IACI,IAAIC,QAAaL,MAAMZ,IAAM,2BAA6BG,UAC1Dc,QAAaA,EAAKJ,OAClBP,QAAQC,IAAIU,GACZC,SAASC,cAAc,YAAYC,WAAa,2NAE4BH,EAAKI,oGACDC,eAAeL,EAAKM,yCAGxG,CAAE,MAAOC,GACLlB,QAAQC,IAAIiB,GACZN,SAASC,cAAc,YAAYC,WAAa,oYAMpD,CACJ,CAEAX,eAAeK,SAASG,GACpBC,SAASC,cAAc,UAAUM,UAAYR,EAAKS,MAClD,IACI,IAAK,IAAIC,EAAI,EAAGA,EAAIV,EAAKW,MAAMC,OAAQF,IAAK,CACxC,IAAIC,EAAQX,EAAKW,MAAMD,GACvBnB,UAAUsB,KAAK,CAACC,IAAIH,EAAMG,IAAIC,QAAQJ,EAAMI,QAAQC,SAAOL,EAAMK,QAASL,EAAMK,QACpF,CACJ,CAAE,MAAOC,GACLhB,SAASC,cAAc,YAAYC,WAAa,o0BAMhDF,SAASC,cAAc,WAAWC,WAAa,gEAC/CF,SAASC,cAAc,WAAWgB,UAAUC,OAAO,SACvD,CAEA,IAAK,IAAIT,EAAI,EAAGA,EAAIV,EAAKoB,UAAUR,OAAQF,IAAK,CAC5C,IAAIW,EAAWrB,EAAKoB,UAAUV,GAC9BT,SAASC,cAAc,QAAQC,WAAa,iIAEmCkB,EAASN,6IAE1EM,EAASC,MAAMC,KAAKC,GAAS,gBAAgBA,EAAKV,QAAQU,EAAKtC,sBAAqBuC,KAAK,8DAI3G,CACGzB,EAAK0B,OACJzB,SAASC,cAAc,SAASyB,aAAa,OAAQ,yBAAyBzC,eAAec,EAAK0B,QAClGzB,SAASC,cAAc,SAASgB,UAAUC,OAAO,WAElDnB,EAAK4B,OACJ3B,SAASC,cAAc,SAASyB,aAAa,OAAQ,yBAAyBzC,eAAec,EAAK4B,QAClG3B,SAASC,cAAc,SAASgB,UAAUC,OAAO,UAEzD,CAGA,SAASrB,UAAUE,GAGf,GADA6B,YAAY7B,EAAK,GAAGe,WACjBf,EAAKY,OAAS,GAAjB,CACA,IAAK,IAAIF,EAAI,EAAGA,EAAIV,EAAKY,OAAQF,IAC7BT,SAASC,cAAc,YAAYC,WAAa,WAAWH,EAAKU,GAAGK,mBAEvEd,SAASC,cAAc,WAAWgB,UAAUC,OAAO,SAJ/B,CAKxB,CAEA,SAASU,YAAYC,GACjBzC,QAAQC,IAAIwC,GACZ,IAAInB,EAAQpB,UAAUwC,MAAMC,GAAOA,EAAGjB,UAAYe,IAClDzC,QAAQC,IAAIqB,GACRA,EAAMK,QACNf,SAASC,cAAc,aAAagB,UAAUe,IAAI,UAClDhC,SAASC,cAAc,mBAAmBgB,UAAUgB,OAAO,UAC3DjC,SAASC,cAAc,mBAAmByB,aAAa,MAAMhB,EAAMG,OAEnEb,SAASC,cAAc,aAAagB,UAAUgB,OAAO,UACrDjC,SAASC,cAAc,mBAAmBgB,UAAUe,IAAI,UACxDhC,SAASC,cAAc,aAAayB,aAAa,MAAMhB,EAAMG,KAErE,CA9FArB,WAQAM","sources":["src/assets/js/watch.js"],"sourcesContent":["const query = new URLSearchParams(window.location.search)\nlet api = localStorage.getItem(\"API\");\nlet provider = query.get(\"provider\")\nlet id = query.get(\"id\")\n\nconsole.log(`provider of ${provider}`)\nconsole.log(`query of ${id}`)\n\nlet videoList = []\ninitData()\nasync function initData(){\n    let watch = await fetch(api+`api/watch?provider=${provider}&id=${id}`)\n    watch = await watch.json()\n    await loadData(watch)\n    loadVideo(videoList)\n}\n\nmenu()\nasync function menu() {\n    try {\n        let data = await fetch(api + \"api/extension?extension=\" + provider)\n        data = await data.json();\n        console.log(data)\n        document.querySelector(\"#topCard\").innerHTML += `\n            <div class=\"w-full p-4 text-center bg-white border rounded-lg shadow-md sm:p-8 dark:bg-gray-800 dark:border-gray-700\">\n                <h5 class=\"mb-2 text-3xl font-bold text-gray-900 dark:text-white\">${data.name}</h5>\n                <p class=\"mb-5 text-base text-gray-500 sm:text-lg dark:text-gray-400\">${getCountryName(data.lang)}</p>\n            </div>\n        `\n    } catch (error) {\n        console.log(error)\n        document.querySelector(\"#topCard\").innerHTML += `\n            <div class=\"w-full p-4 text-center bg-white border rounded-lg shadow-md sm:p-8 dark:bg-gray-800 dark:border-gray-700\">\n                <h5 class=\"mb-2 text-3xl font-bold text-gray-900 dark:text-white\">Not Found</h5>\n                <p class=\"mb-5 text-base text-gray-500 sm:text-lg dark:text-gray-400\">Make sure you are connected to api</p>\n            </div>\n        `\n    }\n}\n\nasync function loadData(data){\n    document.querySelector(\"#title\").innerText = data.title\n    try {\n        for (let i = 0; i < data.video.length; i++) {\n            let video = data.video[i]\n            videoList.push({url:video.url,quality:video.quality,iframe:video.iframe ? video.iframe : false})\n        }\n    } catch (err) {\n        document.querySelector(\"#topCard\").innerHTML += `\n        <div class=\"w-full p-4 text-center bg-white border rounded-lg shadow-md sm:p-8 dark:bg-gray-800 dark:border-gray-700\">\n            <h5 class=\"mb-2 text-3xl font-bold text-gray-900 dark:text-white\">Video is detected from \"ip-based website\"</h5>\n            <a class=\"mb-5 text-base text-gray-500 sm:text-lg dark:text-gray-400\">if you want to play the video here, you can download the app version of this web in <a href=\"./download.html\">Here</a> or use this <a href=\"https://chrome.google.com/webstore/detail/allow-cors-access-control/lhobafahddgcelffkeicbaginigeejlf\">Extension (Not Recommended)</a> please <a href=\"./allowCors.html\">README</a> if you want to use the extension</a>\n            <a class=\"mb-5 text-base text-gray-500 sm:text-lg dark:text-gray-400\">or just download manually... i guess</a>\n        </div>`\n        document.querySelector(\"#Notice\").innerHTML += `<a href=\"./allowCors.html\" class=\"btn btn-primary\">README</a>`\n        document.querySelector(\"#Notice\").classList.toggle(\"hidden\")\n    }\n    // loop data.downloads\n    for (let i = 0; i < data.downloads.length; i++) {\n        let download = data.downloads[i]\n        document.querySelector(\"#dls\").innerHTML += `\n                <div class=\"Quality\">\n                <h2 class=\"mb-2 text-lg font-semibold text-gray-900 dark:text-white\">${download.quality}</h2>\n                <ul class=\"space-y-1 max-w-md list-disc list-inside text-gray-500 dark:text-gray-400\">\n                    ${download.links.map((link) => `<li><a href=\"${link.url}\">${link.provider}</a></li>`).join(\"\")}\n                </ul>\n            </div>\n            `\n    }\n    if(data.prev){\n        document.querySelector(\"#prev\").setAttribute(\"href\", `./watch.html?provider=${provider}&id=${data.prev}`)\n        document.querySelector(\"#prev\").classList.toggle(\"hidden\")\n    }\n    if(data.next){\n        document.querySelector(\"#next\").setAttribute(\"href\", `./watch.html?provider=${provider}&id=${data.next}`)\n        document.querySelector(\"#next\").classList.toggle(\"hidden\")\n    }\n}\n\n  \nfunction loadVideo(data){\n    // loop data\n    selectVideo(data[0].quality)\n    if(data.length < 2) return\n    for (let i = 0; i < data.length; i++) {\n        document.querySelector(\"#quality\").innerHTML += `<option>${data[i].quality}</option>`        \n    }\n    document.querySelector(\"#selQua\").classList.toggle(\"hidden\")\n}\n\nfunction selectVideo(selector){\n    console.log(selector)\n    let video = videoList.find((el) => el.quality === selector)\n    console.log(video)\n    if (video.iframe){\n        document.querySelector(\"#watchUrl\").classList.add(\"hidden\")\n        document.querySelector(\"#watchUrliframe\").classList.remove(\"hidden\")\n        document.querySelector(\"#watchUrliframe\").setAttribute(\"src\",video.url)\n    } else {\n        document.querySelector(\"#watchUrl\").classList.remove(\"hidden\")\n        document.querySelector(\"#watchUrliframe\").classList.add(\"hidden\")\n        document.querySelector(\"#watchUrl\").setAttribute(\"src\",video.url)\n    }\n}"],"names":["query","URLSearchParams","window","location","search","api","localStorage","getItem","provider","get","id","console","log","videoList","async","initData","watch","fetch","json","loadData","loadVideo","menu","data","document","querySelector","innerHTML","name","getCountryName","lang","error","innerText","title","i","video","length","push","url","quality","iframe","err","classList","toggle","downloads","download","links","map","link","join","prev","setAttribute","next","selectVideo","selector","find","el","add","remove"],"version":3,"file":"watch.46302b6d.js.map"}